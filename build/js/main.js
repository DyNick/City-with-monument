function checkVisible(s,e){e=e||"object visible";var o=$(window).height()-200,c=$(window).scrollTop(),i=$(s).offset().top,n=$(s).height();return"object visible"==e?i<o+c&&c-n<i:"above"==e?i<o+c:void 0}$(document).ready(function(){AOS.init({startEvent:"load"})}),0!==$("#diagram").length&&checkVisible($("#diagram"))&&(document.getElementById("diagram").play(),$(window).off("scroll")),$(document).ready(function(){$(window).bind("scroll",function(){$(window).width()<=480?900<$(window).scrollTop()?($(".header__content").addClass("fixed"),$(".section-second").css("padding-top","85px")):($(".header__content").removeClass("fixed"),$(".section-second").css("padding-top","0px")):700<$(window).scrollTop()?($(".header__content").addClass("fixed"),$(".section-second").css("padding-top","85px")):($(".header__content").removeClass("fixed"),$(".section-second").css("padding-top","0px"))})}),$(document).ready(function(){$(".menu__Btn").click(function(){$(".nav-list").addClass("active")}),$(".close-button").click(function(){$(".nav-list").removeClass("active")}),$(".nav-list__item").find("a").click(function(s){s.preventDefault();var e=$(this).attr("href");$("html, body").animate({scrollTop:$(e).offset().top-100}),$(".nav-list").removeClass("active")})});var sections=$("section"),nav=$(".nav-list__item"),nav_height=nav.outerHeight();function moveProgressBar(){$(".progress").each(function(){$(this).find(".progress-bar").animate({width:$(this).attr("data-percent")},2e3)})}function myMap(){var s=document.getElementById("googleMap"),e=s.dataset.lat,o=s.dataset.lng,c=new google.maps.LatLng(e,o),i={center:c,zoom:18,scrollwheel:!0,draggable:!0,mapTypeId:google.maps.MapTypeId.ROADMAP},n=new google.maps.Map(s,i);new google.maps.Marker({icon:"../img/mark-icon.png",position:c}).setMap(n)}$(window).on("scroll",function(){var o=$(this).scrollTop();sections.each(function(){var s=$(this).offset().top-150,e=s+$(this).outerHeight();s<=o&&o<=e&&(nav.find("a").removeClass("active"),$(this).addClass("active"),nav.find('a[href="#'+$(this).attr("id")+'"]').addClass("active"))})}),$("#popup-link").click(function(){$(".popup-ambassador").addClass("active")}),$(".popup-ambassador").click(function(){$(".popup-ambassador").removeClass("active")}),$("#CloseBtn").click(function(){$(".popup-ambassador").removeClass("active")}),$(".js-loupe").each(function(){var s=$(this),i=$(".js-loupe-image",s),e=i.attr("data-image-full"),n=$(".js-loupe-element",s).css("background-image","url("+e+")"),a=$(".virtual-icon1"),t=$(".virtual-icon2"),l=$(".virtual-icon8"),p=$(".virtual-icon9"),d=$(".virtual-icon4"),r=$(".virtual-icon10"),u=$(".virtual-icon6"),m=$(".virtual-icon5"),v=$(".virtual-icon7"),f=$(".virtual-icon11"),x=$(".virtual-icon12"),g=$(".virtual-icon3"),h=[n.width(),n.height()],o=document.createElement("img");o.onload=function(){o.width,o.height},o.src=e,s.on("mousemove",function(s){var e=[Math.round(s.offsetX/i.width()*1e3)/1e3,Math.round(s.offsetY/i.height()*1e3)/1e3],o=[h[0]*e[0]-h[0]/2,h[1]*e[1]-h[1]/2],c=["calc("+100*e[0]+"% - "+o[0]+"px)","calc("+100*e[1]+"% - "+o[1]+"px)"];n.css({"background-position":c.join(" "),top:s.offsetY,left:s.offsetX}),"235px"<=n.css("top")&&n.css("top")<="360px"&&"265px"<=n.css("left")&&n.css("left")<="570px"?(a.css("display","block"),a.css("z-index","3")):(a.css("display","none"),a.css("z-index","0")),"0px"<=n.css("top")&&n.css("top")<="130px"&&"620px"<=n.css("left")&&n.css("left")<="830px"?(t.css("display","block"),t.css("z-index","3"),l.css("display","block"),l.css("z-index","3"),p.css("display","block"),p.css("z-index","3")):(t.css("display","none"),t.css("z-index","0"),l.css("display","none"),l.css("z-index","0"),p.css("display","none"),p.css("z-index","0")),"133px"<=n.css("top")&&n.css("top")<="253px"&&"338px"<=n.css("left")&&n.css("left")<="544px"?(d.css("display","block"),d.css("z-index","3")):(d.css("display","none"),d.css("z-index","0")),"235px"<=n.css("top")&&n.css("top")<="325px"&&"320px"<=n.css("left")&&n.css("left")<="570px"?(r.css("display","block"),r.css("z-index","3")):(r.css("display","none"),r.css("z-index","0")),"200px"<=n.css("top")&&n.css("top")<="318px"&&"364px"<=n.css("left")&&n.css("left")<="650px"?(u.css("display","block"),u.css("z-index","3")):(u.css("display","none"),u.css("z-index","0")),"170px"<=n.css("top")&&n.css("top")<="290px"&&"680px"<=n.css("left")&&n.css("left")<="950px"?(m.css("display","block"),m.css("z-index","3")):(m.css("display","none"),m.css("z-index","0")),"170px"<=n.css("top")&&n.css("top")<="290px"&&"570px"<=n.css("left")&&n.css("left")<="780px"?(v.css("display","block"),v.css("z-index","3")):(v.css("display","none"),v.css("z-index","0")),"160px"<=n.css("top")&&n.css("top")<="185px"&&"190px"<=n.css("left")&&n.css("left")<="426px"?(f.css("display","block"),f.css("z-index","3"),x.css("display","block"),x.css("z-index","3")):(f.css("display","none"),f.css("z-index","0"),x.css("display","none"),x.css("z-index","0")),"120px"<=n.css("top")&&n.css("top")<="199px"&&"338px"<=n.css("left")&&n.css("left")<="544px"?(g.css("display","block"),g.css("z-index","3")):(g.css("display","none"),g.css("z-index","0"))})}),moveProgressBar(),$(window).resize(function(){moveProgressBar()}),$(document).ready(function(){$(window).on("resize",function(){$(window).width()<=480?($("#backers-carousel").addClass("backers-carousel"),$("#backers-carousel").addClass("owl-carousel")):($("#backers-carousel").removeClass("backers-carousel"),$("#backers-carousel").removeClass("owl-carousel"))}).trigger("resize"),$(".backers-carousel").owlCarousel({loop:1,nav:1,items:1,margin:10,navText:['<svg viewBox="0 0 24 24"><path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"></path></svg>','<svg viewBox="0 0 24 24"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"></path></svg>'],navSpeed:500})}),$(document).ready(function(){$(".monument-image-block__item").click(function(){console.log("img");var s=$(this).find(".monument-image-block__item__img").attr("src");$("body").append("<div class='popup'><div class='popup_bg'></div><img src='"+s+"' class='popup_img' /></div>"),$(".popup").fadeIn(800),$(".popup_bg").click(function(){$(".popup").fadeOut(800),setTimeout(function(){$(".popup").remove()},800)})})}),$(document).ready(function(){$(window).on("resize",function(){$(window).width()<=480?($(".monument-image-block").addClass("monument-carousel"),$(".monument-image-block").addClass("owl-carousel")):($(".monument-image-block").removeClass("monument-carousel"),$(".monument-image-block").removeClass("owl-carousel"))}).trigger("resize"),$(".monument-carousel").owlCarousel({loop:1,nav:1,items:1,margin:10,navText:['<svg viewBox="0 0 24 24"><path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"></path></svg>','<svg viewBox="0 0 24 24"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"></path></svg>'],navSpeed:500})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiY2hlY2tWaXNpYmxlIiwiZWxtIiwiZXZhbCIsInZpZXdwb3J0SGVpZ2h0IiwiJCIsIndpbmRvdyIsImhlaWdodCIsInNjcm9sbHRvcCIsInNjcm9sbFRvcCIsInkiLCJvZmZzZXQiLCJ0b3AiLCJlbGVtZW50SGVpZ2h0IiwiZG9jdW1lbnQiLCJyZWFkeSIsIkFPUyIsImluaXQiLCJzdGFydEV2ZW50IiwibGVuZ3RoIiwiZ2V0RWxlbWVudEJ5SWQiLCJwbGF5Iiwib2ZmIiwiYmluZCIsIndpZHRoIiwiYWRkQ2xhc3MiLCJjc3MiLCJyZW1vdmVDbGFzcyIsImNsaWNrIiwiZmluZCIsImUiLCJwcmV2ZW50RGVmYXVsdCIsInNlY3Rpb24iLCJ0aGlzIiwiYXR0ciIsImFuaW1hdGUiLCJzZWN0aW9ucyIsIm5hdiIsIm5hdl9oZWlnaHQiLCJvdXRlckhlaWdodCIsIm1vdmVQcm9ncmVzc0JhciIsImVhY2giLCJteU1hcCIsImxvY2F0aW9uIiwiZGF0YUxhdCIsImRhdGFzZXQiLCJsYXQiLCJkYXRhTG5nIiwibG5nIiwibXlDZW50ZXIiLCJnb29nbGUiLCJtYXBzIiwiTGF0TG5nIiwibWFwT3B0aW9ucyIsImNlbnRlciIsInpvb20iLCJzY3JvbGx3aGVlbCIsImRyYWdnYWJsZSIsIm1hcFR5cGVJZCIsIk1hcFR5cGVJZCIsIlJPQURNQVAiLCJtYXAiLCJNYXAiLCJNYXJrZXIiLCJpY29uIiwicG9zaXRpb24iLCJzZXRNYXAiLCJvbiIsImEiLCJpIiwiJHRoaXMiLCIkaW1hZ2UiLCJpbWdCaWdVcmwiLCIkbG91cGUiLCIkaWNvbiIsIiRhcnJvd0Rvd24xIiwiJHN1YndheURlc2NyaXB0aW9uIiwiJHN1YndheSIsIiRiYW5lcjIiLCIkdGF4aSIsIiRlYXQiLCIkY3VwIiwiJG1haWwiLCIkbW9udW1lbnRBcnJvdyIsIiRtb251bWVudERlc2NyaXB0aW9uIiwiJGJhbmVyMSIsImxvdXBlU2l6ZSIsImJpZ0ltZyIsImNyZWF0ZUVsZW1lbnQiLCJvbmxvYWQiLCJzcmMiLCJwb3NpdGlvblJhdGlvIiwiTWF0aCIsInJvdW5kIiwib2Zmc2V0WCIsIm9mZnNldFkiLCJwb3NpdGlvblBlcmNlbnQiLCJiYWNrZ3JvdW5kLXBvc2l0aW9uIiwiam9pbiIsImxlZnQiLCJyZXNpemUiLCJ0cmlnZ2VyIiwib3dsQ2Fyb3VzZWwiLCJsb29wIiwiaXRlbXMiLCJtYXJnaW4iLCJuYXZUZXh0IiwibmF2U3BlZWQiLCJjb25zb2xlIiwibG9nIiwiYXBwZW5kIiwiZmFkZUluIiwiZmFkZU91dCIsInNldFRpbWVvdXQiLCJyZW1vdmUiXSwibWFwcGluZ3MiOiJBQWNBLFNBQVNBLGFBQWNDLEVBQUtDLEdBQ3hCQSxFQUFPQSxHQUFRLGlCQUNmLElBQUlDLEVBQWlCQyxFQUFFQyxRQUFRQyxTQUFXLElBQ3RDQyxFQUFZSCxFQUFFQyxRQUFRRyxZQUN0QkMsRUFBSUwsRUFBRUgsR0FBS1MsU0FBU0MsSUFDcEJDLEVBQWdCUixFQUFFSCxHQUFLSyxTQUUzQixNQUFZLGtCQUFSSixFQUNTTyxFQUFLTixFQUFpQkksR0FBcUJBLEVBQVlLLEVBQWpCSCxFQUV2QyxTQUFSUCxFQUNTTyxFQUFLTixFQUFpQkksT0FEbkMsRUFyQkpILEVBQUVTLFVBQVVDLE1BQU0sV0FDZEMsSUFBSUMsS0FBSyxDQUNMQyxXQUFZLFdBdUJTLElBQXpCYixFQUFFLFlBQVljLFFBQ1ZsQixhQUFhSSxFQUFFLGVBQ2ZTLFNBQVNNLGVBQWUsV0FBV0MsT0FDbkNoQixFQUFFQyxRQUFRZ0IsSUFBSSxXQUl0QmpCLEVBQUVTLFVBQVVDLE1BQU0sV0FDZFYsRUFBRUMsUUFBUWlCLEtBQUssU0FBVSxXQUNsQmxCLEVBQUVDLFFBQVFrQixTQUFXLElBQ08sSUFBeEJuQixFQUFFQyxRQUFRRyxhQUNUSixFQUFFLG9CQUFvQm9CLFNBQVMsU0FDL0JwQixFQUFFLG1CQUFtQnFCLElBQUksY0FBZSxVQUV4Q3JCLEVBQUUsb0JBQW9Cc0IsWUFBWSxTQUdsQ3RCLEVBQUUsbUJBQW1CcUIsSUFBSSxjQUFlLFFB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Q0xtRSxNQUFPLEVBQ1BDLE9BQVEsR0FDUkMsUUFBUyxDQUFDLGlHQUFrRyxtR0FDNUdDLFNBQVUiLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIlxyXG5cclxuXHJcbiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCl7XHJcbiAgICBBT1MuaW5pdCh7XHJcbiAgICAgICAgc3RhcnRFdmVudDogJ2xvYWQnLFxyXG4gICAgfSk7XHJcbn0pO1xyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5mdW5jdGlvbiBjaGVja1Zpc2libGUoIGVsbSwgZXZhbCApIHtcclxuICAgIGV2YWwgPSBldmFsIHx8IFwib2JqZWN0IHZpc2libGVcIjtcclxuICAgIHZhciB2aWV3cG9ydEhlaWdodCA9ICQod2luZG93KS5oZWlnaHQoKSAtIDIwMCwgLy8gVmlld3BvcnQgSGVpZ2h0XHJcbiAgICAgICAgc2Nyb2xsdG9wID0gJCh3aW5kb3cpLnNjcm9sbFRvcCgpLCAvLyBTY3JvbGwgVG9wXHJcbiAgICAgICAgeSA9ICQoZWxtKS5vZmZzZXQoKS50b3AsXHJcbiAgICAgICAgZWxlbWVudEhlaWdodCA9ICQoZWxtKS5oZWlnaHQoKTtcclxuXHJcbiAgICBpZiAoZXZhbCA9PSBcIm9iamVjdCB2aXNpYmxlXCIpIHtcclxuICAgICAgICByZXR1cm4gKCh5IDwgKHZpZXdwb3J0SGVpZ2h0ICsgc2Nyb2xsdG9wKSkgJiYgKHkgPiAoc2Nyb2xsdG9wIC0gZWxlbWVudEhlaWdodCkpKTtcclxuICAgIH1cclxuICAgIGlmIChldmFsID09IFwiYWJvdmVcIikge1xyXG4gICAgICAgIHJldHVybiAoKHkgPCAodmlld3BvcnRIZWlnaHQgKyBzY3JvbGx0b3ApKSk7XHJcbiAgICB9XHJcbn1cclxuaWYgKCQoJyNkaWFncmFtJykubGVuZ3RoICE9PSAwKSB7XHJcbiAgICBpZiAoY2hlY2tWaXNpYmxlKCQoJyNkaWFncmFtJykpKSB7XHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RpYWdyYW0nKS5wbGF5KCk7XHJcbiAgICAgICAgJCh3aW5kb3cpLm9mZignc2Nyb2xsJyk7XHJcbiAgICB9XHJcbn1cclxuXHJcbiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xyXG4gICAgJCh3aW5kb3cpLmJpbmQoJ3Njcm9sbCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGlmKCQod2luZG93KS53aWR0aCgpIDw9IDQ4MCApe1xyXG4gICAgICAgICAgICBpZigkKHdpbmRvdykuc2Nyb2xsVG9wKCkgPiA5MDApe1xyXG4gICAgICAgICAgICAgICAgJCgnLmhlYWRlcl9fY29udGVudCcpLmFkZENsYXNzKCdmaXhlZCcpO1xyXG4gICAgICAgICAgICAgICAgJCgnLnNlY3Rpb24tc2Vjb25kJykuY3NzKCdwYWRkaW5nLXRvcCcsICc4NXB4Jyk7XHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgJCgnLmhlYWRlcl9fY29udGVudCcpLnJlbW92ZUNsYXNzKCdmaXhlZCcpO1xyXG4gICAgICAgICAgICAgICAgLy8gQWRkaW5nIHBhZGRpbmcgc28gaXQgZG9lc24ndCBqdW1wIHVwXHJcbiAgICAgICAgICAgICAgICAvLyB3aGVuIHRoZSBtZW51IGdldHMgZml4ZWQuXHJcbiAgICAgICAgICAgICAgICAkKCcuc2VjdGlvbi1zZWNvbmQnKS5jc3MoJ3BhZGRpbmctdG9wJywgJzBweCcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBUaGUgdmFsdWUgb2Ygd2hlcmUgdGhlIFwic2NvbGxcIiBpcy5cclxuICAgICAgICAgICAgaWYgKCQod2luZG93KS5zY3JvbGxUb3AoKSA+IDcwMCkge1xyXG4gICAgICAgICAgICAgICAgJCgnLmhlYWRlcl9fY29udGVudCcpLmFkZENsYXNzKCdmaXhlZCcpO1xyXG4gICAgICAgICAgICAgICAgJCgnLnNlY3Rpb24tc2Vjb25kJykuY3NzKCdwYWRkaW5nLXRvcCcsICc4NXB4Jyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAkKCcuaGVhZGVyX19jb250ZW50JykucmVtb3ZlQ2xhc3MoJ2ZpeGVkJyk7XHJcbiAgICAgICAgICAgICAgICAvLyBBZGRpbmcgcGFkZGluZyBzbyBpdCBkb2Vzbid0IGp1bXAgdXBcclxuICAgICAgICAgICAgICAgIC8vIHdoZW4gdGhlIG1lbnUgZ2V0cyBmaXhlZC5cclxuICAgICAgICAgICAgICAgICQoJy5zZWN0aW9uLXNlY29uZCcpLmNzcygncGFkZGluZy10b3AnLCAnMHB4Jyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9KVxyXG59KTtcclxuJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgJCgnLm1lbnVfX0J0bicpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAkKCcubmF2LWxpc3QnKS5hZGRDbGFzcygnYWN0aXZlJylcclxuICAgIH0pO1xyXG5cclxuICAgICQoJy5jbG9zZS1idXR0b24nKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgJCgnLm5hdi1saXN0JykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpXHJcbiAgICB9KTtcclxuXHJcblxyXG4gICAgJChcIi5uYXYtbGlzdF9faXRlbVwiKS5maW5kKFwiYVwiKS5jbGljayhmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICB2YXIgc2VjdGlvbiA9ICQodGhpcykuYXR0cihcImhyZWZcIik7XHJcbiAgICAgICAgJChcImh0bWwsIGJvZHlcIikuYW5pbWF0ZSh7XHJcbiAgICAgICAgICAgIHNjcm9sbFRvcDogJChzZWN0aW9uKS5vZmZzZXQoKS50b3AgLSAxMDBcclxuICAgICAgICB9KTtcclxuICAgICAgICAkKCcubmF2LWxpc3QnKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICB9KTtcclxufSk7XHJcblxyXG52YXIgc2VjdGlvbnMgPSAkKFwic2VjdGlvblwiKVxyXG4gICAgLCBuYXYgPSAkKFwiLm5hdi1saXN0X19pdGVtXCIpXHJcbiAgICAsIG5hdl9oZWlnaHQgPSBuYXYub3V0ZXJIZWlnaHQoKTtcclxuJCh3aW5kb3cpLm9uKFwic2Nyb2xsXCIsIGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIGUgPSAkKHRoaXMpLnNjcm9sbFRvcCgpO1xyXG4gICAgc2VjdGlvbnMuZWFjaChmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgYSA9ICQodGhpcykub2Zmc2V0KCkudG9wIC0gMTUwXHJcbiAgICAgICAgICAgICwgaSA9IGEgKyAkKHRoaXMpLm91dGVySGVpZ2h0KCk7XHJcbiAgICAgICAgZSA+PSBhICYmIGUgPD0gaSAmJiAobmF2LmZpbmQoXCJhXCIpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpLFxyXG4gICAgICAgICAgICAkKHRoaXMpLmFkZENsYXNzKFwiYWN0aXZlXCIpLFxyXG4gICAgICAgICAgICBuYXYuZmluZCgnYVtocmVmPVwiIycgKyAkKHRoaXMpLmF0dHIoXCJpZFwiKSArICdcIl0nKS5hZGRDbGFzcyhcImFjdGl2ZVwiKSlcclxuICAgIH0pXHJcbn0pXHJcblxyXG5cbid1c2Ugc3RyaWN0J1xyXG5cclxuXHJcbiQoXCIjcG9wdXAtbGlua1wiKS5jbGljayhmdW5jdGlvbigpIHtcclxuICAgICQoXCIucG9wdXAtYW1iYXNzYWRvclwiKS5hZGRDbGFzcygnYWN0aXZlJyk7XHJcbn0pO1xyXG5cclxuJChcIi5wb3B1cC1hbWJhc3NhZG9yXCIpLmNsaWNrKGZ1bmN0aW9uKCkge1xyXG4gICAgJChcIi5wb3B1cC1hbWJhc3NhZG9yXCIpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxufSk7XHJcblxyXG4kKFwiI0Nsb3NlQnRuXCIpLmNsaWNrKGZ1bmN0aW9uKCkge1xyXG4gICAgJChcIi5wb3B1cC1hbWJhc3NhZG9yXCIpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxufSk7XG47KGZ1bmN0aW9uKCl7XHJcbiAgICBmdW5jdGlvbiByb3VuZFRvUGxhY2UobnVtLCBwbGFjZSkge1xyXG4gICAgICAgIHJldHVybiBNYXRoLnJvdW5kKG51bSpNYXRoLnBvdygxMCwgcGxhY2UpKS9NYXRoLnBvdygxMCwgcGxhY2UpO1xyXG4gICAgfVxyXG5cclxuICAgICQoJy5qcy1sb3VwZScpLmVhY2goZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyICR0aGlzID0gJCh0aGlzKTtcclxuICAgICAgICB2YXIgJGltYWdlID0gJCgnLmpzLWxvdXBlLWltYWdlJywgJHRoaXMpO1xyXG4gICAgICAgIHZhciBpbWdCaWdVcmwgPSAkaW1hZ2UuYXR0cignZGF0YS1pbWFnZS1mdWxsJyk7XHJcbiAgICAgICAgdmFyICRsb3VwZSA9ICQoJy5qcy1sb3VwZS1lbGVtZW50JywgJHRoaXMpLmNzcygnYmFja2dyb3VuZC1pbWFnZScsICd1cmwoJytpbWdCaWdVcmwrJyknKTtcclxuICAgICAgICB2YXIgJGljb24gPSAkKCcudmlydHVhbC1pY29uMScpO1xyXG4gICAgICAgIHZhciAkYXJyb3dEb3duMSA9ICQoJy52aXJ0dWFsLWljb24yJyk7XHJcbiAgICAgICAgdmFyICRzdWJ3YXlEZXNjcmlwdGlvbiA9ICQoJy52aXJ0dWFsLWljb244Jyk7XHJcbiAgICAgICAgdmFyICRzdWJ3YXkgPSAkKCcudmlydHVhbC1pY29uOScpO1xyXG4gICAgICAgIHZhciAkYmFuZXIyID0gJCgnLnZpcnR1YWwtaWNvbjQnKTtcclxuICAgICAgICB2YXIgJHRheGkgPSAkKCcudmlydHVhbC1pY29uMTAnKTtcclxuICAgICAgICB2YXIgJGVhdCA9ICQoJy52aXJ0dWFsLWljb242Jyk7XHJcbiAgICAgICAgdmFyICRjdXAgPSAkKCcudmlydHVhbC1pY29uNScpO1xyXG4gICAgICAgIHZhciAkbWFpbCA9ICQoJy52aXJ0dWFsLWljb243Jyk7XHJcbiAgICAgICAgdmFyICRtb251bWVudEFycm93ID0gJCgnLnZpcnR1YWwtaWNvbjExJyk7XHJcbiAgICAgICAgdmFyICRtb251bWVudERlc2NyaXB0aW9uID0gJCgnLnZpcnR1YWwtaWNvbjEyJyk7XHJcbiAgICAgICAgdmFyICRiYW5lcjEgPSAkKCcudmlydHVhbC1pY29uMycpO1xyXG4gICAgICAgIHZhciBsb3VwZVNpemUgPSBbJGxvdXBlLndpZHRoKCksICRsb3VwZS5oZWlnaHQoKV07XHJcbiAgICAgICAgdmFyIGJpZ0ltZ1NpemUgPSBbMCwwXTtcclxuICAgICAgICB2YXIgem9vbUx2bCA9IDAuNDtcclxuICAgICAgICB2YXIgYmlnSW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XHJcbiAgICAgICAgYmlnSW1nLm9ubG9hZCA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIGJpZ0ltZ1NpemUgPSBbYmlnSW1nLndpZHRoLCBiaWdJbWcuaGVpZ2h0XVxyXG4gICAgICAgIH1cclxuICAgICAgICBiaWdJbWcuc3JjID0gaW1nQmlnVXJsO1xyXG5cclxuICAgICAgICAvKiR0aGlzLm9uKCdtb3VzZW1vdmUnLCBmdW5jdGlvbihlKXtcclxuXHJcbiAgICAgICAgICAgIHZhciBwb3NpdGlvblJhdGlvID0gW1xyXG4gICAgICAgICAgICAgICAgTWF0aC5yb3VuZChlLm9mZnNldFgvJGltYWdlLndpZHRoKCkgKiAxMDAwKSAvIDEwMDAsXHJcbiAgICAgICAgICAgICAgICBNYXRoLnJvdW5kKGUub2Zmc2V0WS8kaW1hZ2UuaGVpZ2h0KCkgKiAxMDAwKSAvIDEwMDBcclxuICAgICAgICAgICAgXTtcclxuXHJcbiAgICAgICAgICAgIHZhciBvZmZzZXQgPSBbXHJcbiAgICAgICAgICAgICAgICAobG91cGVTaXplWzBdICogcG9zaXRpb25SYXRpb1swXSkgLSAobG91cGVTaXplWzBdIC8gMiksXHJcbiAgICAgICAgICAgICAgICAobG91cGVTaXplWzFdICogcG9zaXRpb25SYXRpb1sxXSkgLSAobG91cGVTaXplWzFdIC8gMiksXHJcbiAgICAgICAgICAgIF1cclxuXHJcbiAgICAgICAgICAgIHZhciBwb3NpdGlvblBlcmNlbnQgPSBbXHJcbiAgICAgICAgICAgICAgICAnY2FsYygnK3Bvc2l0aW9uUmF0aW9bMF0qMTAwKyclIC0gJytvZmZzZXRbMF0rJ3B4KScsXHJcbiAgICAgICAgICAgICAgICAnY2FsYygnK3Bvc2l0aW9uUmF0aW9bMV0qMTAwKyclIC0gJytvZmZzZXRbMV0rJ3B4KSdcclxuICAgICAgICAgICAgXTtcclxuXHJcbiAgICAgICAgICAgICRsb3VwZS5jc3Moe1xyXG4gICAgICAgICAgICAgICAgJ2JhY2tncm91bmQtcG9zaXRpb24nOiAgcG9zaXRpb25QZXJjZW50LmpvaW4oJyAnKSxcclxuICAgICAgICAgICAgICAgICd0b3AnOiBlLm9mZnNldFksXHJcbiAgICAgICAgICAgICAgICAnbGVmdCc6IGUub2Zmc2V0WFxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCBwb3NpdGlvblBlcmNlbnQpO1xyXG4gICAgICAgIH0pOyovXHJcblxyXG4gICAgICAgICR0aGlzLm9uKCdtb3VzZW1vdmUnLCBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coJ3NvbWUnKTtcclxuXHJcblxyXG4gICAgICAgICAgICB2YXIgcG9zaXRpb25SYXRpbyA9IFtcclxuICAgICAgICAgICAgICAgIE1hdGgucm91bmQoZS5vZmZzZXRYLyRpbWFnZS53aWR0aCgpICogMTAwMCkgLyAxMDAwLFxyXG4gICAgICAgICAgICAgICAgTWF0aC5yb3VuZChlLm9mZnNldFkvJGltYWdlLmhlaWdodCgpICogMTAwMCkgLyAxMDAwXHJcbiAgICAgICAgICAgIF07XHJcblxyXG4gICAgICAgICAgICB2YXIgb2Zmc2V0ID0gW1xyXG4gICAgICAgICAgICAgICAgKGxvdXBlU2l6ZVswXSAqIHBvc2l0aW9uUmF0aW9bMF0pIC0gKGxvdXBlU2l6ZVswXSAvIDIpLFxyXG4gICAgICAgICAgICAgICAgKGxvdXBlU2l6ZVsxXSAqIHBvc2l0aW9uUmF0aW9bMV0pIC0gKGxvdXBlU2l6ZVsxXSAvIDIpLFxyXG4gICAgICAgICAgICBdXHJcblxyXG4gICAgICAgICAgICB2YXIgcG9zaXRpb25QZXJjZW50ID0gW1xyXG4gICAgICAgICAgICAgICAgJ2NhbGMoJytwb3NpdGlvblJhdGlvWzBdKjEwMCsnJSAtICcrb2Zmc2V0WzBdKydweCknLFxyXG4gICAgICAgICAgICAgICAgJ2NhbGMoJytwb3NpdGlvblJhdGlvWzFdKjEwMCsnJSAtICcrb2Zmc2V0WzFdKydweCknXHJcbiAgICAgICAgICAgIF07XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCBwb3NpdGlvblBlcmNlbnQpO1xyXG4gICAgICAgICAgICAkbG91cGUuY3NzKHtcclxuICAgICAgICAgICAgICAgICdiYWNrZ3JvdW5kLXBvc2l0aW9uJzogIHBvc2l0aW9uUGVyY2VudC5qb2luKCcgJyksXHJcbiAgICAgICAgICAgICAgICAndG9wJzogZS5vZmZzZXRZLFxyXG4gICAgICAgICAgICAgICAgJ2xlZnQnOiBlLm9mZnNldFhcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGZpcnN0QWN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCRsb3VwZS5jc3MoJ3RvcCcpID49ICcyMzVweCcgJiYgJGxvdXBlLmNzcygndG9wJykgPD0gJzM2MHB4JyAmJiAkbG91cGUuY3NzKCdsZWZ0JykgPj0gJzI2NXB4JyAmJiAkbG91cGUuY3NzKCdsZWZ0JykgPD0gJzU3MHB4Jykge1xyXG4gICAgICAgICAgICAgICAgICAgICRpY29uLmNzcygnZGlzcGxheScsICdibG9jaycpO1xyXG4gICAgICAgICAgICAgICAgICAgICRpY29uLmNzcygnei1pbmRleCcsICczJylcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICRpY29uLmNzcygnZGlzcGxheScsICdub25lJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJGljb24uY3NzKCd6LWluZGV4JywgJzAnKVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmaXJzdEFjdGlvbigpIDtcclxuXHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBzZWNvbmRBY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoJGxvdXBlLmNzcygndG9wJykgPj0gJzBweCcgJiYgJGxvdXBlLmNzcygndG9wJykgPD0gJzEzMHB4JyAmJiAkbG91cGUuY3NzKCdsZWZ0JykgPj0gJzYyMHB4JyAmJiAkbG91cGUuY3NzKCdsZWZ0JykgPD0gJzgzMHB4Jykge1xyXG4gICAgICAgICAgICAgICAgICAgICRhcnJvd0Rvd24xLmNzcygnZGlzcGxheScsICdibG9jaycpO1xyXG4gICAgICAgICAgICAgICAgICAgICRhcnJvd0Rvd24xLmNzcygnei1pbmRleCcsICczJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHN1YndheURlc2NyaXB0aW9uLmNzcygnZGlzcGxheScsICdibG9jaycpO1xyXG4gICAgICAgICAgICAgICAgICAgICRzdWJ3YXlEZXNjcmlwdGlvbi5jc3MoJ3otaW5kZXgnLCAnMycpO1xyXG4gICAgICAgICAgICAgICAgICAgICRzdWJ3YXkuY3NzKCdkaXNwbGF5JywgJ2Jsb2NrJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHN1YndheS5jc3MoJ3otaW5kZXgnLCAnMycpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAkYXJyb3dEb3duMS5jc3MoJ2Rpc3BsYXknLCAnbm9uZScpO1xyXG4gICAgICAgICAgICAgICAgICAgICRhcnJvd0Rvd24xLmNzcygnei1pbmRleCcsICcwJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHN1YndheURlc2NyaXB0aW9uLmNzcygnZGlzcGxheScsICdub25lJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHN1YndheURlc2NyaXB0aW9uLmNzcygnei1pbmRleCcsICcwJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHN1YndheS5jc3MoJ2Rpc3BsYXknLCAnbm9uZScpO1xyXG4gICAgICAgICAgICAgICAgICAgICRzdWJ3YXkuY3NzKCd6LWluZGV4JywgJzAnKVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzZWNvbmRBY3Rpb24oKSA7XHJcblxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gdGhpcmRBY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoJGxvdXBlLmNzcygndG9wJykgPj0gJzEzM3B4JyAmJiAkbG91cGUuY3NzKCd0b3AnKSA8PSAnMjUzcHgnICYmICRsb3VwZS5jc3MoJ2xlZnQnKSA+PSAnMzM4cHgnICYmICRsb3VwZS5jc3MoJ2xlZnQnKSA8PSAnNTQ0cHgnKSB7XHJcblxyXG5cclxuICAgICAgICAgICAgICAgICAgICAkYmFuZXIyLmNzcygnZGlzcGxheScsICdibG9jaycpO1xyXG4gICAgICAgICAgICAgICAgICAgICRiYW5lcjIuY3NzKCd6LWluZGV4JywgJzMnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAkYmFuZXIyLmNzcygnZGlzcGxheScsICdub25lJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJGJhbmVyMi5jc3MoJ3otaW5kZXgnLCAnMCcpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlyZEFjdGlvbigpIDtcclxuXHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBmb3VydGhBY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoJGxvdXBlLmNzcygndG9wJykgPj0gJzIzNXB4JyAmJiAkbG91cGUuY3NzKCd0b3AnKSA8PSAnMzI1cHgnICYmICRsb3VwZS5jc3MoJ2xlZnQnKSA+PSAnMzIwcHgnICYmICRsb3VwZS5jc3MoJ2xlZnQnKSA8PSAnNTcwcHgnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHRheGkuY3NzKCdkaXNwbGF5JywgJ2Jsb2NrJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHRheGkuY3NzKCd6LWluZGV4JywgJzMnKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHRheGkuY3NzKCdkaXNwbGF5JywgJ25vbmUnKTtcclxuICAgICAgICAgICAgICAgICAgICAkdGF4aS5jc3MoJ3otaW5kZXgnLCAnMCcpXHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZvdXJ0aEFjdGlvbigpIDtcclxuXHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBmaXZ0aEFjdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIGlmICgkbG91cGUuY3NzKCd0b3AnKSA+PSAnMjAwcHgnICYmICRsb3VwZS5jc3MoJ3RvcCcpIDw9ICczMThweCcgJiYgJGxvdXBlLmNzcygnbGVmdCcpID49ICczNjRweCcgJiYgJGxvdXBlLmNzcygnbGVmdCcpIDw9ICc2NTBweCcpIHtcclxuICAgICAgICAgICAgICAgICAgICAkZWF0LmNzcygnZGlzcGxheScsICdibG9jaycpO1xyXG4gICAgICAgICAgICAgICAgICAgICRlYXQuY3NzKCd6LWluZGV4JywgJzMnKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJGVhdC5jc3MoJ2Rpc3BsYXknLCAnbm9uZScpO1xyXG4gICAgICAgICAgICAgICAgICAgICRlYXQuY3NzKCd6LWluZGV4JywgJzAnKVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmaXZ0aEFjdGlvbigpIDtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIHNpeEFjdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIGlmICgkbG91cGUuY3NzKCd0b3AnKSA+PSAnMTcwcHgnICYmICRsb3VwZS5jc3MoJ3RvcCcpIDw9ICcyOTBweCcgJiYgJGxvdXBlLmNzcygnbGVmdCcpID49ICc2ODBweCcgJiYgJGxvdXBlLmNzcygnbGVmdCcpIDw9ICc5NTBweCcpIHtcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICRjdXAuY3NzKCdkaXNwbGF5JywgJ2Jsb2NrJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJGN1cC5jc3MoJ3otaW5kZXgnLCAnMycpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICRjdXAuY3NzKCdkaXNwbGF5JywgJ25vbmUnKTtcclxuICAgICAgICAgICAgICAgICAgICAkY3VwLmNzcygnei1pbmRleCcsICcwJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNpeEFjdGlvbigpIDtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIHNldmVudGhBY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoJGxvdXBlLmNzcygndG9wJykgPj0gJzE3MHB4JyAmJiAkbG91cGUuY3NzKCd0b3AnKSA8PSAnMjkwcHgnICYmICRsb3VwZS5jc3MoJ2xlZnQnKSA+PSAnNTcwcHgnICYmICRsb3VwZS5jc3MoJ2xlZnQnKSA8PSAnNzgwcHgnKSB7XHJcblxyXG5cclxuICAgICAgICAgICAgICAgICAgICAkbWFpbC5jc3MoJ2Rpc3BsYXknLCAnYmxvY2snKTtcclxuICAgICAgICAgICAgICAgICAgICAkbWFpbC5jc3MoJ3otaW5kZXgnLCAnMycpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICRtYWlsLmNzcygnZGlzcGxheScsICdub25lJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJG1haWwuY3NzKCd6LWluZGV4JywgJzAnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc2V2ZW50aEFjdGlvbigpIDtcclxuICAgICAgICAgICAgZnVuY3Rpb24gZWlnaHRBY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoJGxvdXBlLmNzcygndG9wJykgPj0gJzE2MHB4JyAmJiAkbG91cGUuY3NzKCd0b3AnKSA8PSAnMTg1cHgnICYmICRsb3VwZS5jc3MoJ2xlZnQnKSA+PSAnMTkwcHgnICYmICRsb3VwZS5jc3MoJ2xlZnQnKSA8PSAnNDI2cHgnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJG1vbnVtZW50QXJyb3cuY3NzKCdkaXNwbGF5JywgJ2Jsb2NrJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJG1vbnVtZW50QXJyb3cuY3NzKCd6LWluZGV4JywgJzMnKTtcclxuICAgICAgICAgICAgICAgICAgICAkbW9udW1lbnREZXNjcmlwdGlvbi5jc3MoJ2Rpc3BsYXknLCAnYmxvY2snKTtcclxuICAgICAgICAgICAgICAgICAgICAkbW9udW1lbnREZXNjcmlwdGlvbi5jc3MoJ3otaW5kZXgnLCAnMycpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJG1vbnVtZW50QXJyb3cuY3NzKCdkaXNwbGF5JywgJ25vbmUnKTtcclxuICAgICAgICAgICAgICAgICAgICAkbW9udW1lbnRBcnJvdy5jc3MoJ3otaW5kZXgnLCAnMCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICRtb251bWVudERlc2NyaXB0aW9uLmNzcygnZGlzcGxheScsICdub25lJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJG1vbnVtZW50RGVzY3JpcHRpb24uY3NzKCd6LWluZGV4JywgJzAnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWlnaHRBY3Rpb24oKSA7XHJcblxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gbmludGhBY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoJGxvdXBlLmNzcygndG9wJykgPj0gJzEyMHB4JyAmJiAkbG91cGUuY3NzKCd0b3AnKSA8PSAnMTk5cHgnICYmICRsb3VwZS5jc3MoJ2xlZnQnKSA+PSAnMzM4cHgnICYmICRsb3VwZS5jc3MoJ2xlZnQnKSA8PSAnNTQ0cHgnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJGJhbmVyMS5jc3MoJ2Rpc3BsYXknLCAnYmxvY2snKTtcclxuICAgICAgICAgICAgICAgICAgICAkYmFuZXIxLmNzcygnei1pbmRleCcsICczJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAkYmFuZXIxLmNzcygnZGlzcGxheScsICdub25lJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJGJhbmVyMS5jc3MoJ3otaW5kZXgnLCAnMCcpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBuaW50aEFjdGlvbigpIDtcclxuXHJcblxyXG4gICAgICAgIH0pO1xyXG5cclxuXHJcblxyXG5cclxuXHJcbiAgICAgICAgICAgICAgIC8qICR0aGlzLm9uKCdtb3VzZXdoZWVsIERPTU1vdXNlU2Nyb2xsJywgZnVuY3Rpb24oZXZlbnQpe1xyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50Lm9yaWdpbmFsRXZlbnQud2hlZWxEZWx0YSA+IDAgfHwgZXZlbnQub3JpZ2luYWxFdmVudC5kZXRhaWwgPCAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHpvb21MdmwgPCAxLjUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHpvb21MdmwgLT0gMC4zO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJGxvdXBlLmNzcygnYmFja2dyb3VuZC1zaXplJywgYmlnSW1nU2l6ZVswXSp6b29tTHZsKydweCAnK2JpZ0ltZ1NpemVbMV0qem9vbUx2bCsncHgnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoem9vbUx2bCA+IDAuNSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgem9vbUx2bCAtPSAwLjE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkbG91cGUuY3NzKCdiYWNrZ3JvdW5kLXNpemUnLCBiaWdJbWdTaXplWzBdKnpvb21MdmwrJ3B4ICcrYmlnSW1nU2l6ZVsxXSp6b29tTHZsKydweCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiovXHJcblxyXG5cclxuXHJcblxyXG5cclxuICAgIH0pO1xyXG5cclxufSgpKTtcclxuXG4ndXNlIHN0cmljdCdcclxubW92ZVByb2dyZXNzQmFyKCk7XHJcbiQod2luZG93KS5yZXNpemUoZnVuY3Rpb24oKSB7XHJcbiAgICBtb3ZlUHJvZ3Jlc3NCYXIoKTtcclxufSk7XHJcblxyXG5mdW5jdGlvbiBtb3ZlUHJvZ3Jlc3NCYXIoKSB7XHJcblxyXG4gICAgJCgnLnByb2dyZXNzJykuZWFjaChmdW5jdGlvbigpe1xyXG4gICAgICAgICQodGhpcykuZmluZCgnLnByb2dyZXNzLWJhcicpLmFuaW1hdGUoe1xyXG4gICAgICAgICAgICB3aWR0aDokKHRoaXMpLmF0dHIoJ2RhdGEtcGVyY2VudCcpXHJcbiAgICAgICAgfSwyMDAwKTtcclxuICAgIH0pO1xyXG4vKlxyXG5cclxuICAgIHZhciBnZXRQZXJjZW50ID0gKCQoJy5wcm9ncmVzcy13cmFwJykuZGF0YSgncHJvZ3Jlc3MtcGVyY2VudCcpIC8gMTAwKSxcclxuICAgICAgICBnZXRQcm9ncmVzc1dyYXBXaWR0aCA9ICQoJy5wcm9ncmVzcy13cmFwJykud2lkdGgoKSxcclxuICAgICAgICBwcm9ncmVzc1RvdGFsID0gZ2V0UGVyY2VudCAqIGdldFByb2dyZXNzV3JhcFdpZHRoLFxyXG4gICAgICAgIGFuaW1hdGlvbkxlbmd0aCA9IDI1MDA7XHJcblxyXG5cclxuICAgICQoJy5wcm9ncmVzcy1iYXInKS5zdG9wKCkuYW5pbWF0ZSh7XHJcbiAgICAgICAgbGVmdDogcHJvZ3Jlc3NUb3RhbFxyXG4gICAgfSwgYW5pbWF0aW9uTGVuZ3RoKTtcclxuKi9cclxuXHJcblxyXG5cclxufVxyXG5cclxuXG4ndXNlIHN0cmljdCdcclxuXHJcbiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xyXG4gICAgJCh3aW5kb3cpLm9uKFwicmVzaXplXCIsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICQod2luZG93KS53aWR0aCgpIDw9IDQ4MCA/ICgkKFwiI2JhY2tlcnMtY2Fyb3VzZWxcIikuYWRkQ2xhc3MoXCJiYWNrZXJzLWNhcm91c2VsXCIpLFxyXG4gICAgICAgICAgICAkKFwiI2JhY2tlcnMtY2Fyb3VzZWxcIikuYWRkQ2xhc3MoXCJvd2wtY2Fyb3VzZWxcIikpIDogKCQoXCIjYmFja2Vycy1jYXJvdXNlbFwiKS5yZW1vdmVDbGFzcyhcImJhY2tlcnMtY2Fyb3VzZWxcIiksXHJcbiAgICAgICAgICAgICQoXCIjYmFja2Vycy1jYXJvdXNlbFwiKS5yZW1vdmVDbGFzcyhcIm93bC1jYXJvdXNlbFwiKSlcclxuICAgIH0pLnRyaWdnZXIoXCJyZXNpemVcIik7XHJcbiAgICAkKFwiLmJhY2tlcnMtY2Fyb3VzZWxcIikub3dsQ2Fyb3VzZWwoe1xyXG4gICAgICAgIGxvb3A6IDEsXHJcbiAgICAgICAgbmF2OiAxLFxyXG4gICAgICAgIGl0ZW1zOiAxLFxyXG4gICAgICAgIG1hcmdpbjogMTAsXHJcbiAgICAgICAgbmF2VGV4dDogWyc8c3ZnIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBkPVwiTTE1LjQxIDcuNDFMMTQgNmwtNiA2IDYgNiAxLjQxLTEuNDFMMTAuODMgMTJ6XCI+PC9wYXRoPjwvc3ZnPicsICc8c3ZnIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBkPVwiTTEwIDZMOC41OSA3LjQxIDEzLjE3IDEybC00LjU4IDQuNTlMMTAgMThsNi02elwiPjwvcGF0aD48L3N2Zz4nXSxcclxuICAgICAgICBuYXZTcGVlZDogNTAwXHJcbiAgICB9KVxyXG59KVxuJ3VzZSBzdHJpY3QnXHJcbmZ1bmN0aW9uIG15TWFwKClcclxue1xyXG4gICAgdmFyIGxvY2F0aW9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dvb2dsZU1hcCcpO1xyXG4gICAgdmFyIGRhdGFMYXQgPSBsb2NhdGlvbi5kYXRhc2V0LmxhdDtcclxuICAgIHZhciBkYXRhTG5nID0gbG9jYXRpb24uZGF0YXNldC5sbmc7XHJcbiAgICB2YXIgbXlDZW50ZXI9bmV3IGdvb2dsZS5tYXBzLkxhdExuZyhkYXRhTGF0LCBkYXRhTG5nKTtcclxuICAgIHZhciBnb2xkU3RhciA9IHtcclxuICAgICAgICBwYXRoOiAnTSAxMjUsNSAxNTUsOTAgMjQ1LDkwIDE3NSwxNDUgMjAwLDIzMCAxMjUsMTgwIDUwLDIzMCA3NSwxNDUgNSw5MCA5NSw5MCB6JyxcclxuICAgICAgICBmaWxsQ29sb3I6ICd5ZWxsb3cnLFxyXG4gICAgICAgIGZpbGxPcGFjaXR5OiAwLjgsXHJcbiAgICAgICAgc2NhbGU6IDEsXHJcbiAgICAgICAgc3Ryb2tlQ29sb3I6ICdnb2xkJyxcclxuICAgICAgICBzdHJva2VXZWlnaHQ6IDE0XHJcbiAgICB9O1xyXG4gICAgdmFyIG1hcE9wdGlvbnM9IHtcclxuICAgICAgICBjZW50ZXI6bXlDZW50ZXIsXHJcbiAgICAgICAgem9vbToxOCwgc2Nyb2xsd2hlZWw6IHRydWUsIGRyYWdnYWJsZTogdHJ1ZSxcclxuICAgICAgICBtYXBUeXBlSWQ6Z29vZ2xlLm1hcHMuTWFwVHlwZUlkLlJPQURNQVBcclxuICAgIH07XHJcbiAgICB2YXIgbWFwPW5ldyBnb29nbGUubWFwcy5NYXAobG9jYXRpb24sbWFwT3B0aW9ucyk7XHJcblxyXG4gICAgdmFyIG1hcmtlciA9IG5ldyBnb29nbGUubWFwcy5NYXJrZXIoe1xyXG4gICAgICAgIC8qaWNvbjogXCJodHRwczovL3BuZy5pY29uczguY29tL25vbGFuLzJ4L21hcmtlci5wbmdcIiwqL1xyXG4gICAgICAgIGljb246IFwiLi4vaW1nL21hcmstaWNvbi5wbmdcIixcclxuICAgICAgICBwb3NpdGlvbjogbXlDZW50ZXIsXHJcbiAgICB9KTtcclxuICAgIG1hcmtlci5zZXRNYXAobWFwKTtcclxufVxuJ3VzZSBzdHJpY3QnXHJcblxyXG4vKj09PT09PT09PT09PT09PT09PT09PT09PXBvcCB1cCBpbWFnZT09PT09PT09PT09PT09PT0qL1xyXG4kKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcclxuXHJcbiAgICAkKFwiLm1vbnVtZW50LWltYWdlLWJsb2NrX19pdGVtXCIpLmNsaWNrKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ2ltZycpO1xyXG4gICAgICAgIHZhciBpbWcgPSAkKHRoaXMpLmZpbmQoJy5tb251bWVudC1pbWFnZS1ibG9ja19faXRlbV9faW1nJyk7XHJcbiAgICAgICAgdmFyIHNyYyA9IGltZy5hdHRyKCdzcmMnKTtcclxuXHJcbiAgICAgICAgJChcImJvZHlcIikuYXBwZW5kKFwiPGRpdiBjbGFzcz0ncG9wdXAnPlwiK1xyXG4gICAgICAgICAgICBcIjxkaXYgY2xhc3M9J3BvcHVwX2JnJz48L2Rpdj5cIitcclxuICAgICAgICAgICAgXCI8aW1nIHNyYz0nXCIrc3JjK1wiJyBjbGFzcz0ncG9wdXBfaW1nJyAvPlwiK1xyXG4gICAgICAgICAgICBcIjwvZGl2PlwiKTtcclxuXHJcbiAgICAgICAgJChcIi5wb3B1cFwiKS5mYWRlSW4oODAwKTtcclxuXHJcbiAgICAgICAgJChcIi5wb3B1cF9iZ1wiKS5jbGljayhmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAkKFwiLnBvcHVwXCIpLmZhZGVPdXQoODAwKTtcclxuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAkKFwiLnBvcHVwXCIpLnJlbW92ZSgpO1xyXG5cclxuICAgICAgICAgICAgfSwgODAwKTtcclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxufSk7XHJcblxyXG5cclxuJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XHJcbiAgICAkKHdpbmRvdykub24oXCJyZXNpemVcIiwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgJCh3aW5kb3cpLndpZHRoKCkgPD0gNDgwID8gKCQoXCIubW9udW1lbnQtaW1hZ2UtYmxvY2tcIikuYWRkQ2xhc3MoXCJtb251bWVudC1jYXJvdXNlbFwiKSxcclxuICAgICAgICAgICAgJChcIi5tb251bWVudC1pbWFnZS1ibG9ja1wiKS5hZGRDbGFzcyhcIm93bC1jYXJvdXNlbFwiKSkgOiAoJChcIi5tb251bWVudC1pbWFnZS1ibG9ja1wiKS5yZW1vdmVDbGFzcyhcIm1vbnVtZW50LWNhcm91c2VsXCIpLFxyXG4gICAgICAgICAgICAkKFwiLm1vbnVtZW50LWltYWdlLWJsb2NrXCIpLnJlbW92ZUNsYXNzKFwib3dsLWNhcm91c2VsXCIpKVxyXG4gICAgfSkudHJpZ2dlcihcInJlc2l6ZVwiKTtcclxuICAgICQoXCIubW9udW1lbnQtY2Fyb3VzZWxcIikub3dsQ2Fyb3VzZWwoe1xyXG4gICAgICAgIGxvb3A6IDEsXHJcbiAgICAgICAgbmF2OiAxLFxyXG4gICAgICAgIGl0ZW1zOiAxLFxyXG4gICAgICAgIG1hcmdpbjogMTAsXHJcbiAgICAgICAgbmF2VGV4dDogWyc8c3ZnIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBkPVwiTTE1LjQxIDcuNDFMMTQgNmwtNiA2IDYgNiAxLjQxLTEuNDFMMTAuODMgMTJ6XCI+PC9wYXRoPjwvc3ZnPicsICc8c3ZnIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBkPVwiTTEwIDZMOC41OSA3LjQxIDEzLjE3IDEybC00LjU4IDQuNTlMMTAgMThsNi02elwiPjwvcGF0aD48L3N2Zz4nXSxcclxuICAgICAgICBuYXZTcGVlZDogNTAwXHJcbiAgICB9KVxyXG59KSJdfQ==
